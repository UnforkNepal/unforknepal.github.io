---
const {
	title,
	description = "Unfork Nepal: Nepal's citizen-powered watchdog against corruption. Join us in the fight to end deadly corruption and save lives.",
	keywords = "",
	ogImage = "",
	twitterImage = ""
} = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="description" content={description}>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/jpeg" href="/images/logo.jpg" />
	<link rel="stylesheet" href="/assets/styles.css" />
	<style>
		html {
			scroll-behavior: auto;
		}
		.content {
			display: block !important;
			overflow-x: visible !important;
			scroll-snap-type: none !important;
			scroll-behavior: auto !important;
			width: 100% !important;
		}
	</style>

	<script src="/assets/smooth-scroll.js" defer></script>

	<script>
		// Register service worker
		if ('serviceWorker' in navigator) {
			window.addEventListener('load', () => {
				navigator.serviceWorker.register('/sw.js')
					.then((registration) => {
						console.log('Service Worker registered successfully:', registration.scope);
					})
					.catch((error) => {
						console.log('Service Worker registration failed:', error);
					});
			});
		}
	</script>

	<title>{title}</title>

	<!-- Basic Meta Tags -->
	<meta name="description" content={description} />
	{keywords && <meta name="keywords" content={keywords} />}
	<meta name="author" content="Unfork Nepal" />
	<meta name="robots" content="index, follow" />

	<!-- Canonical URL -->
	<link rel="canonical" href="https://unforknepal.org/" />

	<!-- Preconnect to external domains -->
	<link rel="preconnect" href="https://images.unsplash.com" crossorigin />
	<link rel="preconnect" href="https://matrix.to" crossorigin />
	<link rel="dns-prefetch" href="//fonts.googleapis.com" />

	<!-- Security Headers -->
	<meta http-equiv="X-Content-Type-Options" content="nosniff" />
	<meta http-equiv="X-Frame-Options" content="DENY" />
	<meta http-equiv="X-XSS-Protection" content="1; mode=block" />
	<meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />

	<!-- Theme and Mobile Optimization -->
	<meta name="theme-color" content="#8B0000" />
	<meta name="mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<meta name="apple-mobile-web-app-title" content="Unfork Nepal" />

	<!-- Structured Data -->
	<script type="application/ld+json">
	{
		"@context": "https://schema.org",
		"@type": "Organization",
		"name": "Unfork Nepal",
		"description": "Nepal's citizen-powered watchdog against corruption",
		"url": "https://unforknepal.org",
		"logo": "https://unforknepal.org/images/logo.jpg",
		"sameAs": [
			"https://matrix.to/#/#unfork-nepal:matrix.org"
		],
		"contactPoint": {
			"@type": "ContactPoint",
			"contactType": "customer service",
			"url": "https://matrix.to/#/#unfork-nepal:matrix.org"
		}
	}
	</script>

	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://unforknepal.org" />
	<meta property="og:title" content={title} />
	<meta property="og:description" content={description} />
	{ogImage && <meta property="og:image" content={ogImage} />}
	{ogImage && <meta property="og:image:width" content="1200" />}
	{ogImage && <meta property="og:image:height" content="630" />}
	<meta property="og:site_name" content="Unfork Nepal" />
	<meta property="og:locale" content="en_US" />

	<!-- Twitter -->
	<meta property="twitter:card" content="summary_large_image" />
	<meta property="twitter:url" content="https://unforknepal.org" />
	<meta property="twitter:title" content={title} />
	<meta property="twitter:description" content={description} />
	{twitterImage && <meta property="twitter:image" content={twitterImage} />}
	<meta property="twitter:image:alt" content="Corruption Kills - Blood on Corrupt Hands - Unfork Nepal" />

	<!-- Additional Social Media Tags -->
	<meta name="twitter:site" content="@unforknepal" />
	<meta name="twitter:creator" content="@unforknepal" />
</head>
<body>
	<main>
		<div class="container">
			<div class="content">
				<slot />
			</div>
		</div>
	</main>
</body>
</html>
